
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>JBrowser:安装及配置</title>
    <meta name="description" content="JBrowser installation and configuration">
    <meta name="author" content="Zhoujj">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.2.2.2.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

  </head>

  <body>
    <div class="navbar">
      <div class="navbar-inner">
        <div class="container-narrow">
        <!--<a class="brand" href="/">UnCoverIt</a>-->
          <ul class="nav">
			<li><a href="/">Home</a></li>
            
            
            


  
    
      
      	
      	<li><a href="/about.html">About</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/categories.html">Categories</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/pages.html">Pages</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  



          </ul>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="content">
        
<div class="page-header">
  <h1>JBrowser:安装及配置 </h1>
</div>

<div class="row-fluid post-full">
  <div class="span12">
    <div class="date">
      <span>13 July 2014 posted by <a href="http://zhoujj2013.github.io/~zhoujj/">zhoujj</a></span>
    </div>
    <div class="content">
      
<p>这周有点空余时间，所以尝试着去把JBrowser配置好。从事生物信息分析已经４年了，在人们看来生物信息是个“高大上”的行当（虽然我不认为是这样），无论你的算法多么的ＮＢ，都无法离开肉眼的观察与判断。因为生物信息不是０／１的简单组合，也不是ＡＴＣＧ的简单排列，而是一首ＡＴＣＧ简单字符组成的长曲。</p>

<p><em>希望JBrowser就像一个播放机一样，让你听到生命的赞歌，也希望您对生命的感悟超越前人。</em></p>

<p><strong>选择<a href="http://jbrowse.org/">JBrowser</a>的原因：</strong></p>

<ul>
  <li>
    <p>相对UCSC Genome Browser的配置，JBrowser配置更加简单，对硬件需求低，对数据库没有要求；</p>
  </li>
  <li>
    <p>JBrowser是基于Javascript和HTML5构建的，对浏览器兼容性好；</p>
  </li>
  <li>
    <p>UCSC Genome Browser只对一些重要的物种提供数据，而对新测序物种没有相应支持，JBrowser提倡自主定制数据；</p>
  </li>
  <li>
    <p>JBrowser是<a href="http://gmod.org/wiki/Main_Page">GMOD</a>的成员,其中GalaxybioMark等都是很成功的生物信息软件。</p>
  </li>
</ul>

<p><strong>JBrowser也有其致命的弱点：</strong></p>

<ul>
  <li>
    <p>基于Javascript和HTML5构建，信赖于浏览器处理和存储数据，很容易引起浏览器崩溃；</p>
  </li>
  <li>
    <p>所支持数据格式和格式转换支持不如UCSC；</p>
  </li>
</ul>

<p><strong>下面简述配置步骤：</strong></p>

<ul>
  <li>下载及安装JBrowser，请参考（http://jbrowse.org/code/JBrowse-1.11.4/docs/tutorial/）；</li>
</ul>

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="bash"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="c"># make a directory that this user can write to	</span>
sudo mkdir /var/www/jbrowse 
sudo chown <span class="sb">`</span>whoami<span class="sb">`</span> /var/www/jbrowse

<span class="c"># cd into it</span>
<span class="nb">cd</span> /var/www/jbrowse;

<span class="c"># fetch a JBrowse release zip file</span>
curl -O http://jbrowse.org/releases/JBrowse-x.x.x.zip

<span class="c"># unzip it and cd into it</span>
unzip JBrowse-x.x.x.zip
<span class="nb">cd </span>JBrowse-x.x.x

<span class="c">#一定要确保你用的是bash shell</span>
./setup.sh 
</pre></div>
</td></tr></table>

<p>安装成功后，你可以通过浏览器查看默认配置的基因组。</p>

<div class="highlight"><pre><code class="html">http://your.jbrowse.root/index.html?data=sample_data/json/volvox
</code></pre></div>

<ul>
  <li>JBrowser是如何工作的；</li>
</ul>

<p>JBrowser读取json文件夹下的数据，然后根据track的信息来显示数据的。</p>

<p>json文件夹如下：</p>

<div class="highlight"><pre><code class="html">path_to_json/json
	---hg19
	------trackList.conf  # 用来配置tracks
	------tracks.conf     # 用来配置tracks
	------names # 所有的名字
	------seq  # 参考基因组存放的地方
	------tracks # 所有要格式后的tracks数据存放的地方
	---hg18
	...
	---c.elegan
	...
</code></pre></div>

<p>hg19/hg18/c.elegan分别代表三个不同的基因组。</p>

<p>JBrowser先从主页面配置文件中读取主页的信息，再通过javascript调用，根据trackList.conf和tracks.conf中的配置信息读取tracks的数据，然后再返回到页面，这个过程没有通过数据库，所以如果读取大文件的话会花费一些时间。</p>

<ul>
  <li>JBrowser主页面配置；</li>
</ul>

<p>下面列出一些主页面的主要配置文件：</p>

<div class="highlight"><pre><code class="html">index.html        # 这个是主页html文件，里面都是javascript的调用
*.css             # 是对genome browser元件的样式进行设置的
jbrowse.conf      # 这两个是主页设置文件，一个是txt format，另外一个文件是json format，设置效果是一样的
jbrowse_conf.json # 这两个是主页设置文件，一个是txt format，另外一个文件是json format，设置效果是一样的
</code></pre></div>

<p>对about页面的设置：</p>

<div class="highlight"><pre><code class="html">[aboutThisBrowser]
title = <span class="nt">&lt;i&gt;</span>Oryza sativa<span class="nt">&lt;/i&gt;</span>        # 可以用markdown来设置
description = Browser for O. sativa transcripts and RNA-seq data, produced by the Smith laboratory at Example State University.
</code></pre></div>

<p>对于tracks面板的设置：</p>

<div class="highlight"><pre><code class="html">[trackSelector] # 用#注释，表示不设置
type = Faceted
</code></pre></div>

<p>对于数据集的设置（对hg19数据进行开放）：</p>

<div class="highlight"><pre><code class="html">[datasets.hg19]                    # datasets.<span class="err">&lt;</span>数据集的id&gt;
url = ?data=/zhoujj_jb/json/hg19   #?data=<span class="err">&lt;</span>相对于jbrowser根目录的相对路径，json目录下&gt;/hg19
name = hg19                        # 数据集的id
</code></pre></div>

<p>这些是主页面的基本设置，但是更重要的是，如何把自己的数据上传到JBrowser？这一部分的内存太多了。我先列一下，日后再补充。</p>

<p>这一部分主要包括:</p>

<ul>
  <li>
    <p>导入参考序列(reference genome)；</p>
  </li>
  <li>
    <p>导入UCSC tracks</p>
  </li>
  <li>
    <p>导入gff2/gtf/gff3</p>
  </li>
  <li>
    <p>导入bed文件</p>
  </li>
  <li>
    <p>导入bam/bigwig文件</p>
  </li>
  <li>
    <p>其它文件格式转化为jbrowser支持的格式</p>
  </li>
</ul>


    </div>

  
    <ul class="tag_box inline">
      <li><i class="icon-folder-open"></i></li>
      
      


  
     
    	<li><a href="/categories.html#bioinformatics-ref">
    		bioinformatics <span>6</span>
    	</a></li>
    
  


    </ul>
    

  
    <ul class="tag_box inline">
      <li><i class="icon-tags"></i></li>
      
      


  
     
    	<li><a href="/tags.html#bioinformatics-ref">bioinformatics <span>6</span></a></li>
     
    	<li><a href="/tags.html#visualization-ref">visualization <span>5</span></a></li>
     
    	<li><a href="/tags.html#web-ref">web <span>5</span></a></li>
    
  



    </ul>
    

    <hr>
    <div class="pagination">
      <ul>
      
        <li class="prev"><a href="/bioinformatics/2014/07/13/jbrowser-import-reference-genome" title="JBrowser:导入参考基因组序列">&larr; Previous</a></li>
      
        <li><a href="/archive.html">Archive</a></li>
      
        <li class="next"><a href="/bioinformatics/2014/07/15/jbrowser-import-bed-and-gff3" title="JBrowser:导入bed和gff3文件">Next &rarr;</a></li>
      
      </ul>
    </div>
    <hr>
    


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'zhoujj'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




  </div>
</div>


      </div>
      <hr>
      <footer>
        <p>Copyright &copy; 2014 <a href="http://zhoujj2013.github.io/~zhoujj/index.html" title="Zhoujj's homepage" target="_blank">Zhoujj</a> 
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
      </footer>

    </div>

    
  </body>
</html>

